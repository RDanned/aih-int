let r=!1;chrome.runtime.onMessage.addListener((e,o,t)=>{if(e.type==="GET_WORD_COUNT"){const l=n();t({wordCount:l})}return e.type==="TOGGLE_HIGHLIGHT"&&(r=!r,i(r),t({highlighted:r})),!0});function n(){const o=(document.body.innerText??"").match(/\b\w+\b/g);return o?o.length:0}function i(e){const o=document.querySelectorAll("a");e?o.forEach(t=>{t.dataset.originalColor=t.style.color,t.style.color="blue"}):o.forEach(t=>{const l=t.dataset.originalColor;t.style.color=l||"",delete t.dataset.originalColor})}
